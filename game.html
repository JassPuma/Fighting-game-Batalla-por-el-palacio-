<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Batalla por la Presidencia</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    canvas {
      border: 2px solid white;
      background: url('../assets/backgrounds/palacio.png') no-repeat center center/cover;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="800" height="400"></canvas>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const selected = localStorage.getItem("selectedCharacter");
    console.log("Personaje elegido:", selected);
   
    const characters = {
      alan: { color: "blue" },
      keiko: { color: "orange" },
      fujimori: { color: "gray" },
      castillo: { color: "brown" },
      veronika: { color: "green" },
      ollanta: { color: "olive" },
      acuÃ±a: { color: "lightblue" },
      toledo: { color: "maroon" },
      antauro: { color: "red" },
      lopezaliaga: { color: "white" },
      desoto: { color: "purple" },
      lescano: { color: "cyan" },
      forsyth: { color: "yellow" },
      guzman: { color: "violet" },
      velasco: { color: "darkgreen" }
    };

    const playerColor = characters[selected]?.color || "blue";
    const enemyColor = "red";

    const player = { x: 100, y: 300, w: 40, h: 40, color: playerColor, vy: 0, grounded: true };
    const enemy = { x: 650, y: 300, w: 40, h: 40, color: enemyColor };

    const keys = {};
    window.addEventListener("keydown", e => keys[e.key] = true);
    window.addEventListener("keyup", e => keys[e.key] = false);

    function update() {
      
      if (keys["ArrowRight"]) player.x += 5;
      if (keys["ArrowLeft"]) player.x -= 5;

      
      if (keys["ArrowUp"] && player.grounded) {
        player.vy = -15;
        player.grounded = false;
      }
      
      player.vy += 0.8;
      player.y += player.vy;

      // Piso
      if (player.y >= 300) {
        player.y = 300;
        player.vy = 0;
        player.grounded = true;
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = player.color;
      ctx.fillRect(player.x, player.y, player.w, player.h);
      ctx.fillStyle = enemy.color;
      ctx.fillRect(enemy.x, enemy.y, enemy.w, enemy.h);
    }

    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }

    loop();
  </script>
</body>
</html>



